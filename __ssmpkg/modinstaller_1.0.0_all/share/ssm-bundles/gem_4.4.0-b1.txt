#!/bin/ksh
modinstaller_file_version=5

ssm_model_name=GEMDM
ssm_bndl_basename=GEM
ssm_bndl_name=x/4.4.0-b1

ssm_s=gem-scripts/x/4.2.0-b8
ssm_d=gemdyn/x/4.4.0-b1
ssm_p=rpnphy/x/5.4.0-b1

ssm_compiler_list="\
 Linux_x86-64:pgi9xx-old\
 Linux:pgi9xx-old\
 AIX:xlf12\
"

ssm_bndl_externals="\
 ${ssm_compiler_list}\
 Linux_x86-64:mpich2\
 Linux:mpich2\
 rmnlib-dev\
 GEM/vgriddescriptors/1.0.8\
"
ssm_bndl_externals_post="GEM/others/gem-home-path"

#---- below needs to be changed only if list of components changes

#BEGIN automation part
ssm_b_x=${ssm_bndl_name%/*}/
ssm_s_d=${ssm_s%%/*}
ssm_d_d=${ssm_d%%/*}
ssm_p_d=${ssm_p%%/*}
ssm_s_x=${ssm_s%/*}
ssm_s_x=${ssm_s_x#*/}/
ssm_d_x=${ssm_d%/*}
ssm_d_x=${ssm_d_x#*/}/
ssm_p_x=${ssm_p%/*}
ssm_p_x=${ssm_p_x#*/}/

ssm_msg=MSG_REL
[[ x$ssm_b_x == xx/ ]] && ssm_msg=MSG_DEV
#END automation part

ssm_bndl_elements="\
 all:gem@${ssm_b_x}gem:GENERIC@${ssm_bndl_name#*/}\
 all:gem-data:4.0.1\
 every:modulopt:2.1c\
 all:CONFIG@${ssm_s_x}${ssm_s_d}:${ssm_s##*/}\
 all:${ssm_s_d}@${ssm_s_x}${ssm_s_d}:GENERIC@${ssm_s##*/}\
 all:CONFIG@${ssm_d_x}${ssm_d_d}:${ssm_d##*/}\
 all:${ssm_d_d}@${ssm_d_x}${ssm_d_d}:GENERIC@${ssm_d##*/}\
 all:CONFIG@${ssm_p_x}${ssm_p_d}:${ssm_p##*/}\
 all:${ssm_p_d}@${ssm_p_x}${ssm_p_d}:GENERIC@${ssm_p##*/}\
 every:${ssm_p_d}@${ssm_p_x}${ssm_p_d}:GENERIC@${ssm_p##*/}\
 every:${ssm_d_d}@${ssm_d_x}${ssm_d_d}:GENERIC@${ssm_d##*/}\
 every:gembin@${ssm_b_x}gem:GENERIC@${ssm_bndl_name#*/}\
 $ssm_msg \
"
