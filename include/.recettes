#
#   Common recipes for models
#
include $(MODEL_PATH)/Makefile_$(EC_ARCH)
RCOMPIL = r.compile $(MPI) $(OMP) -includes $(ARMNLIB)/modeles/PHY_shared/ops//v_$(PHY_VERSION)/include
PATCH   =
OPTF    =
#
#MPI = rpn_comm_stubs
CODEBETA = write_encode_bang read_decode_bang bmf_get bmf_get2 fstd98

MODLIBPATH  = $(ARMNLIB)/modeles/$(FULL_MODEL)/v_$(MODEL_VERSION)/lib/$(EC_ARCH)$(ABI)

V4D         = v4d_stubs
#V4D         = "v4d modulopt prof_003"

PHY_VERSION = 5.0.3
PHYLIBPATH  = $(ARMNLIB)/modeles/PHY/v_$(PHY_VERSION)/lib/$(EC_ARCH)$(ABI)
#PHY        = phy_stubs
PHY         = phy

CHM_VERSION = 0.0
CHMLIBPATH = $(ARMNLIB)/modeles/CHM/v_$(CHM_VERSION)/lib/$(EC_ARCH)$(ABI)
CHM         = chm_stubs
#CHM        = chm

#CPL         = cpl
CPL         = cpl_stubs

OTHERS   = $(COMM) rtools lapack blas massvp4 bindcpu_002 $(LLAPI) $(IBM_LD)
LIBPATH  = $(MODLIBPATH) $(PHYLIBPATH) $(CHMLIBPATH) $(CPLLIBPATH)
LIBS     = $(MODEL) $(V4D) $(PHY) $(PATCH) $(CHM) $(CPL) $(OTHERS)

LCLPO   = malib$(EC_ARCH)
mainntr = main$(MODEL)ntr_$(BASE_ARCH)_${MODEL_VERSION}.Abs
maindm  = main$(MODEL)dm_$(BASE_ARCH)_${MODEL_VERSION}.Abs
rmpo:
	/bin/rm -f $(LCLPO)/*.o
#
libdyn: rmpo $(OBJECTS)
#
